# IBM SmartCloud Analytics – Log Analysis Insight Pack for SPSS Data Collection Interviewer

# Description

This is a Log Analysis Insight Pack that can be used to analyze the log files generated by the IBM SPSS Data Collection Interviewer product.  This Insight Pack uses the IBM Log File Agent (LFA) to consume the log files generated by the SPSS Data Collection Interviewer (SPSS-DCI) solution, sending each line of the log files to the Log Analysis server.  The Insight Pack then annotates the log data to enable searches and dashboards that help in troubleshooting and understanding the operation of SPSS-DCI.   This Insight Pack was created and tested with IBM Log Analysis v1.2.0.3.

# What’s Included 

This Insight Pack **(spss-dci-insightpack.tar)** includes the following components:
•	A rule set, with annotator and splitter, that parses the SPSS-DCI logs. 
•	A Source Type used when defining associated data sources.
•	Two dashboard files which can be used to chart SPSS-DCI log data.
•	An example service topology that defines a typical SPSS-DCI cluster.
•	A set of SPSS-DCI charts for the provided SPSS-DCI cluster service topology.

# Deployment

- Copy the **spss-dci-insightpack.tar** tar file to a temporary directory and untar the archive.   

- Copy the file **SPSSInsightPack_v1.0.0.1.zip** to the <scala_home>/unity_content/SPSS directory.  If the SPSS directory does not exist, create it.  Then run the following command:

**<scala_home>/utilities/pkg_mgmt.sh -install /opt/ibm/scala/LogAnalysis/unity_content/SPSS/SPSSInsightPack_v1.0.0.1.zip**

- Next, copy the dashboard files from the temporary location using the following command:

**cp SPSS*.app <scala_home>/AppFramework/Apps/Dashboards**

The dashboard files use a data source named “SPSS”, you must define your SPSS data source with this name for these charts to work as is; if you use a different data source name you can edit the charts and replace the instances of "SPSS" in the logsources sections of the dashboard files with the proper data source name.  For example:

Change:
"logsources": [
                  {
                     "name": "\/SPSS",
                     "type": "logSource"
                  }

To:				  
"logsources": [
                  {
                     "name": "\/my-data-source",
                     "type": "logSource"
                  }

SPSS-DCI Clusters			
	  
Additional files are provided in the spss-cluster directory; if you have an SPSS-DCI cluster, which is the typical deployment, you can use the service model defined in the file unityServiceToplogy-SPSS-DCI-example.json as an example for defining an SPSS-DCI cluster topology.   To define this topology you would (carefully) add the example to the following file:

 **<scala_home>/wlp/usr/servers/Unity/apps/Unity.war/com/ibm/tivoli/loganalytics/framework/unityServiceTopology.json**
 
 
Once the service topology is updated, you can add the appropriate data sources, being sure to specify the proper “Group” as that data source maps to the topology.  When defining the data sources for an SPSS-DCI cluster, it is a good idea to include the hostname in the data source name (i.e., <hostname>-spss) because the SPSS-DCI logs do not contain this information.  

There are example charts for an SPSS-DCI cluster that can be copied to the directory

**<scala_home>/AppFramework/Apps/Dashboard**

The charts work with the example topology, so if you modify the topology you will have to update the dashboard files appropriately.

# Need Help?

This is a community contributed content pack and no explicit support, guarantee or warranties are provided by IBM nor the contributor. Feel free to engage the community on the ITOAdev forum if you need help! Comments & feedback can be sent to dpeacock@us.ibm.com or via the forum.
